# Epstein OSINT Pipeline - Environment Variables
# Copy this file to .env and fill in your values
# Usage: cp .env.example .env

# =============================================================================
# Required: OpenRouter API (get free API key at https://openrouter.ai/)
# =============================================================================
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# Neo4j Database (Docker internal: use service name 'neo4j')
# =============================================================================
EPSTEIN_NEO4J__URI=bolt://neo4j:7687
EPSTEIN_NEO4J__USERNAME=neo4j
EPSTEIN_NEO4J__PASSWORD=your_secure_password_here
EPSTEIN_NEO4J__DATABASE=neo4j

# =============================================================================
# Redis (Docker internal: use service name 'redis')
# =============================================================================
EPSTEIN_REDIS__HOST=redis
EPSTEIN_REDIS__PORT=6379
EPSTEIN_REDIS__DB=0

# Redis URL (alternative to individual host/port/db)
REDIS_URL=redis://redis:6379/0

# =============================================================================
# Celery (uses Redis as broker)
# =============================================================================
EPSTEIN_CELERY__BROKER_URL=redis://redis:6379/0
EPSTEIN_CELERY__RESULT_BACKEND=redis://redis:6379/0

# =============================================================================
# ChromaDB (Docker internal: use service name 'chromadb')
# =============================================================================
EPSTEIN_CHROMADB__HOST=chromadb
EPSTEIN_CHROMADB__PORT=8000
EPSTEIN_CHROMADB__PERSIST_DIRECTORY=./data/chromadb

# =============================================================================
# Storage
# =============================================================================
EPSTEIN_STORAGE__DATA_DIR=./data
EPSTEIN_STORAGE__DOWNLOADS_DIR=./data/downloads
EPSTEIN_STORAGE__PROCESSED_DIR=./data/processed

EPSTEIN_DATABASE__SQLITE_PATH=./data/state.db

# =============================================================================
# Optional: Ollama (local LLM fallback)
# =============================================================================
EPSTEIN_OLLAMA__BASE_URL=http://localhost:11434
EPSTEIN_OLLAMA__MODEL=llama3.2:3b

# =============================================================================
# Optional: OpenRouter Settings
# =============================================================================
EPSTEIN_OPENROUTER__BASE_URL=https://openrouter.ai/api/v1
EPSTEIN_OPENROUTER__MODEL=google/gemma-2-9b-ite
# EPSTEIN_OPENROUTER__API_KEY= (uses OPENROUTER_API_KEY above)

# =============================================================================
# Downloader Settings
# =============================================================================
EPSTEIN_DOWNLOADER__MAX_CONCURRENT=5
EPSTEIN_DOWNLOADER__CHUNK_SIZE=8192
EPSTEIN_DOWNLOADER__TIMEOUT=300
EPSTEIN_DOWNLOADER__MAX_RETRIES=3
EPSTEIN_DOWNLOADER__RETRY_BACKOFF=2.0

# =============================================================================
# OCR Settings
# =============================================================================
EPSTEIN_OCR__TESSERACT_PATH=
EPSTEIN_OCR__SURYA_ENABLED=true
EPSTEIN_OCR__LANGUAGES=eng

# =============================================================================
# Vectorization Settings
# =============================================================================
EPSTEIN_VECTORIZATION__MODEL=sentence-transformers/all-MiniLM-L6-v2
EPSTEIN_VECTORIZATION__CHUNK_SIZE=512
EPSTEIN_VECTORIZATION__CHUNK_OVERLAP=50

# =============================================================================
# WebSocket Settings
# =============================================================================
EPSTEIN_WEBSOCKET__HOST=0.0.0.0
EPSTEIN_WEBSOCKET__PORT=8001
